<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>منصة حصيف – لوحة جهة حكومية</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
    textarea { resize: vertical; }
  </style>
</head>
<body class="bg-slate-950 text-slate-50 min-h-screen">
  <header class="border-b border-slate-800 bg-slate-900/80 backdrop-blur sticky top-0 z-20">
    <div class="max-w-7xl mx-auto px-4 py-3 flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
      <div class="flex items-center gap-3">
        <div class="flex items-center gap-2">
          <span class="inline-flex h-9 w-9 rounded-2xl bg-gradient-to-br from-emerald-400 to-lime-400 items-center justify-center text-slate-950 font-black text-xl">
            ح
          </span>
          <div class="flex flex-col leading-tight">
            <span class="font-semibold text-sm md:text-base">منصة حصيف</span>
            <span class="text-[11px] text-slate-400">لوحة تشغيل تجريبية – حساب جهة حكومية</span>
          </div>
        </div>
      </div>
      <div class="flex flex-col md:flex-row md:items-center gap-2 md:gap-4 text-[11px] md:text-xs text-slate-300">
        <div class="flex items-center gap-2 text-slate-400">
          <span>⚠ هذه نسخة Mock API تعمل داخل المتصفح فقط (بدون خادم خلفي حقيقي).</span>
        </div>
        <a href="index.html" class="inline-flex items-center justify-center px-3 py-1.5 rounded-full border border-slate-700/70 text-[11px] md:text-xs hover:border-emerald-400 hover:text-emerald-300 transition">
          الرجوع لبوابة الحسابات
        </a>
      </div>
    </div>
  </header>

  <div class="max-w-7xl mx-auto px-4 py-6 flex gap-6">
    <aside class="w-64 hidden md:block">
      <div class="border border-slate-800 bg-slate-900/60 rounded-3xl p-4 space-y-4">
        <div>
          <p class="text-xs font-semibold text-slate-400 mb-1">لوحات الخدمة</p>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="solutions">
            الحلول التنموية
          </button>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="projects">
            المشاريع
          </button>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="events">
            الفعاليات
          </button>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="funding">
            طلبات التمويل
          </button>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="volunteering">
            فرص التطوع
          </button>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="coop">
            التدريب التعاوني
          </button>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="facilities">
            المرافق
          </button>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="jobs">
            الوظائف والفرص
          </button>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="sponsorships">
            الرعايات والدعم
          </button>
          <button class="nav-btn w-full text-right text-sm px-3 py-2 rounded-2xl hover:bg-slate-800 transition" data-target="vision">
            ربط برؤية 2030
          </button>
        </div>
        <div class="border-t border-slate-800 pt-3">
          <p class="text-xs font-semibold text-slate-400 mb-1">ملاحظة تقنية</p>
          <p class="text-[11px] text-slate-400 leading-relaxed">
            جميع عمليات الحفظ والقراءة تمر عبر طبقة MockApi داخل المتصفح.
            عند الانتقال لاحقًا لخادم حقيقي يمكن استبدال هذه الطبقة دون تغيير منطق التشغيل.
          </p>
        </div>
      </div>
    </aside>

    <main class="flex-1 space-y-6">
      <section class="space-y-3">
        <div>
          <h1 class="text-lg md:text-xl font-semibold mb-1">لوحة تشغيل حساب: <span class="text-emerald-300">جهة حكومية</span></h1>
          <p class="text-sm text-slate-400 max-w-xl">
            تعكس هذه اللوحة الحلول والمشاريع والفعاليات وطلبات التمويل وفرص التطوع والتدريب التعاوني والمرافق والوظائف والرعايات والربط برؤية 2030 المرتبطة بهذا الحساب فقط.
          </p>
        </div>
        <div class="grid md:grid-cols-4 gap-3">
          <div class="border border-slate-800 bg-slate-900/70 rounded-2xl p-4">
            <p class="text-[11px] text-slate-400 mb-1">عدد الحلول</p>
            <p id="kpi-solutions" class="text-2xl font-semibold">0</p>
          </div>
          <div class="border border-slate-800 bg-slate-900/70 rounded-2xl p-4">
            <p class="text-[11px] text-slate-400 mb-1">عدد المشاريع</p>
            <p id="kpi-projects" class="text-2xl font-semibold">0</p>
          </div>
          <div class="border border-slate-800 bg-slate-900/70 rounded-2xl p-4">
            <p class="text-[11px] text-slate-400 mb-1">عدد الفعاليات</p>
            <p id="kpi-events" class="text-2xl font-semibold">0</p>
          </div>
          <div class="border border-slate-800 bg-slate-900/70 rounded-2xl p-4">
            <p class="text-[11px] text-slate-400 mb-1">طلبات التمويل</p>
            <p id="kpi-funding" class="text-2xl font-semibold">0</p>
          </div>
          <div class="border border-slate-800 bg-slate-900/70 rounded-2xl p-4">
            <p class="text-[11px] text-slate-400 mb-1">فرص التطوع</p>
            <p id="kpi-volunteering" class="text-2xl font-semibold">0</p>
          </div>
          <div class="border border-slate-800 bg-slate-900/70 rounded-2xl p-4">
            <p class="text-[11px] text-slate-400 mb-1">برامج التدريب التعاوني</p>
            <p id="kpi-coop" class="text-2xl font-semibold">0</p>
          </div>
          <div class="border border-slate-800 bg-slate-900/70 rounded-2xl p-4">
            <p class="text-[11px] text-slate-400 mb-1">عدد المرافق</p>
            <p id="kpi-facilities" class="text-2xl font-semibold">0</p>
          </div>
          <div class="border border-slate-800 bg-slate-900/70 rounded-2xl p-4">
            <p class="text-[11px] text-slate-400 mb-1">الوظائف / الفرص</p>
            <p id="kpi-jobs" class="text-2xl font-semibold">0</p>
          </div>
        </div>
      </section>

      <!-- Solutions -->
      <section id="panel-solutions" class="panel space-y-4">
        <div>
          <h2 class="text-xl font-semibold mb-1">إدارة الحلول التنموية</h2>
          <p class="text-sm text-slate-400">أضف الحلول التي يقترحها هذا الحساب، وسيتم حفظها عبر طبقة Mock API.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-solution" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">عنوان الحل</label>
              <input required name="title" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">الوصف</label>
              <textarea required name="description" rows="3" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400"></textarea>
            </div>
            <div>
              <label class="text-xs text-slate-300">المنطقة (اختياري)</label>
              <input name="region" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              حفظ الحل
            </button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">قائمة الحلول</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">العنوان</th>
                    <th class="py-2">المنطقة</th>
                    <th class="py-2">الحالة</th>
                  </tr>
                </thead>
                <tbody id="table-solutions" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Projects -->
      <section id="panel-projects" class="panel space-y-4 hidden">
        <div>
          <h2 class="text-xl font-semibold mb-1">إدارة المشاريع</h2>
          <p class="text-sm text-slate-400">إنشاء المشاريع وربطها بحلول هذا الحساب عبر Mock API.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-project" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">عنوان المشروع</label>
              <input required name="title" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">الوصف</label>
              <textarea required name="description" rows="3" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400"></textarea>
            </div>
            <div>
              <label class="text-xs text-slate-300">ربط بحل (اختياري)</label>
              <select name="solution_id" id="select-solution" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-emerald-400">
                <option value="">بدون</option>
              </select>
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              حفظ المشروع
            </button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">قائمة المشاريع</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">العنوان</th>
                    <th class="py-2">مرتبط بحل</th>
                    <th class="py-2">الحالة</th>
                  </tr>
                </thead>
                <tbody id="table-projects" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Events -->
      <section id="panel-events" class="panel space-y-4 hidden">
        <div>
          <h2 class="text-xl font-semibold mb-1">إدارة الفعاليات</h2>
          <p class="text-sm text-slate-400">تسجيل الفعاليات المرتبطة بالمشاريع لهذا الحساب.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-event" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">عنوان الفعالية</label>
              <input required name="title" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">الوصف</label>
              <textarea required name="description" rows="3" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400"></textarea>
            </div>
            <div>
              <label class="text-xs text-slate-300">ربط بمشروع (اختياري)</label>
              <select name="project_id" id="select-project-event" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-emerald-400">
                <option value="">بدون</option>
              </select>
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              حفظ الفعالية
            </button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">قائمة الفعاليات</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">العنوان</th>
                    <th class="py-2">المشروع</th>
                    <th class="py-2">الحالة</th>
                  </tr>
                </thead>
                <tbody id="table-events" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Funding -->
      <section id="panel-funding" class="panel space-y-4 hidden">
        <div>
          <h2 class="text-xl font-semibold mb-1">طلبات التمويل</h2>
          <p class="text-sm text-slate-400">تسجيل طلبات التمويل للمشاريع.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-funding" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">المشروع</label>
              <select name="project_id" id="select-project-funding" required class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-emerald-400">
                <option value="">اختر مشروعًا</option>
              </select>
            </div>
            <div>
              <label class="text-xs text-slate-300">مبلغ التمويل المطلوب</label>
              <input name="amount" type="number" min="0" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              تسجيل طلب التمويل
            </button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">قائمة طلبات التمويل</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">المشروع</th>
                    <th class="py-2">المبلغ</th>
                    <th class="py-2">الحالة</th>
                  </tr>
                </thead>
                <tbody id="table-funding" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Volunteering -->
      <section id="panel-volunteering" class="panel space-y-4 hidden">
        <div>
          <h2 class="text-xl font-semibold mb-1">فرص التطوع</h2>
          <p class="text-sm text-slate-400">تسجيل فرص التطوع المرتبطة بالمشاريع.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-volunteering" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">عنوان الفرصة</label>
              <input required name="title" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">الوصف</label>
              <textarea required name="description" rows="3" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400"></textarea>
            </div>
            <div>
              <label class="text-xs text-slate-300">المشروع (اختياري)</label>
              <select name="project_id" id="select-project-vol" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-emerald-400">
                <option value="">بدون</option>
              </select>
            </div>
            <div>
              <label class="text-xs text-slate-300">عدد المتطوعين المطلوب</label>
              <input name="needed" type="number" min="0" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              حفظ الفرصة
            </button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">قائمة فرص التطوع</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">العنوان</th>
                    <th class="py-2">المشروع</th>
                    <th class="py-2">المطلوب</th>
                  </tr>
                </thead>
                <tbody id="table-volunteering" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Coop Training -->
      <section id="panel-coop" class="panel space-y-4 hidden">
        <div>
          <h2 class="text-xl font-semibold mb-1">برامج التدريب التعاوني</h2>
          <p class="text-sm text-slate-400">تسجيل برامج التدريب التعاوني المرتبطة بهذا الحساب.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-coop" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">عنوان البرنامج</label>
              <input required name="title" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">الوصف</label>
              <textarea required name="description" rows="3" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400"></textarea>
            </div>
            <div>
              <label class="text-xs text-slate-300">الجهة المستضيفة</label>
              <input name="host" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              حفظ البرنامج
            </button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">قائمة برامج التدريب التعاوني</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">العنوان</th>
                    <th class="py-2">الجهة المستضيفة</th>
                  </tr>
                </thead>
                <tbody id="table-coop" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Facilities -->
      <section id="panel-facilities" class="panel space-y-4 hidden">
        <div>
          <h2 class="text-xl font-semibold mb-1">المرافق</h2>
          <p class="text-sm text-slate-400">تسجيل المرافق المتاحة لهذا الحساب (قاعات، مسارح، معامل، مراكز...).</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-facility" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">اسم المرفق</label>
              <input required name="name" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">النوع</label>
              <input name="type" placeholder="قاعة، مسرح، معمل..." class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">الموقع</label>
              <input name="location" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              حفظ المرفق
            </button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">قائمة المرافق</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">الاسم</th>
                    <th class="py-2">النوع</th>
                    <th class="py-2">الموقع</th>
                  </tr>
                </thead>
                <tbody id="table-facilities" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Jobs -->
      <section id="panel-jobs" class="panel space-y-4 hidden">
        <div>
          <h2 class="text-xl font-semibold mb-1">الوظائف والفرص</h2>
          <p class="text-sm text-slate-400">تسجيل الفرص الوظيفية أو التدريبية المرتبطة بهذا الحساب.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-job" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">عنوان الوظيفة / الفرصة</label>
              <input required name="title" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">النوع</label>
              <input name="jobtype" placeholder="وظيفة، تدريب، تدريب تعاوني..." class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">الموقع</label>
              <input name="location" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              حفظ الفرصة
            </button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">قائمة الوظائف / الفرص</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">العنوان</th>
                    <th class="py-2">النوع</th>
                    <th class="py-2">الموقع</th>
                  </tr>
                </thead>
                <tbody id="table-jobs" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Sponsorships -->
      <section id="panel-sponsorships" class="panel space-y-4 hidden">
        <div>
          <h2 class="text-xl font-semibold mb-1">الرعايات والدعم</h2>
          <p class="text-sm text-slate-400">تسجيل الرعايات والدعم المالي أو العيني للمشاريع أو الفعاليات.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-sponsorship" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">اسم الداعم / الراعي</label>
              <input required name="sponsor" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">نوع الدعم</label>
              <input name="type" placeholder="مالي، عيني، تقني..." class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">قيمة تقديرية (اختياري)</label>
              <input name="amount" type="number" min="0" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">المشروع / الفعالية (وصف مختصر)</label>
              <input name="target" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              حفظ الرعاية
            </button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">قائمة الرعايات والدعم</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">الراعي</th>
                    <th class="py-2">النوع</th>
                    <th class="py-2">القيمة</th>
                    <th class="py-2">المشروع / الفعالية</th>
                  </tr>
                </thead>
                <tbody id="table-sponsorships" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Vision 2030 -->
      <section id="panel-vision" class="panel space-y-4 hidden">
        <div>
          <h2 class="text-xl font-semibold mb-1">ربط بالمستهدفات – رؤية 2030</h2>
          <p class="text-sm text-slate-400">تسجيل الربط بين برامج / مبادرات هذا الحساب وبرامج وأهداف رؤية 2030.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-4">
          <form id="form-vision" class="md:col-span-1 border border-slate-800 rounded-2xl bg-slate-900/70 p-4 space-y-3">
            <div>
              <label class="text-xs text-slate-300">اسم البرنامج / المحور</label>
              <input required name="program" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">الهدف الاستراتيجي</label>
              <input name="strategic" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">الهدف الفرعي</label>
              <input name="subgoal" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <div>
              <label class="text-xs text-slate-300">المؤشر (وصف مختصر)</label>
              <input name="indicator" class="mt-1 w-full rounded-xl bg-slate-950/60 border border-slate-800 px-3 py-2 text-sm focus:outline-none focus:border-emerald-400" />
            </div>
            <button class="w-full mt-1 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-sm font-semibold py-2 transition">
              حفظ الربط</button>
          </form>
          <div class="md:col-span-2 border border-slate-800 rounded-2xl bg-slate-900/70 p-4">
            <h3 class="text-sm font-semibold text-slate-200 mb-3">سجل ربط برامج الحساب برؤية 2030</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-right text-xs">
                <thead class="text-slate-400 border-b border-slate-800">
                  <tr>
                    <th class="py-2">#</th>
                    <th class="py-2">البرنامج / المحور</th>
                    <th class="py-2">الهدف الاستراتيجي</th>
                    <th class="py-2">الهدف الفرعي</th>
                    <th class="py-2">المؤشر</th>
                  </tr>
                </thead>
                <tbody id="table-vision" class="divide-y divide-slate-800 text-slate-200"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

    </main>
  </div>

  <footer class="border-t border-slate-800 mt-10 py-5 text-center text-[11px] text-slate-500">
    نسخة تشغيلية Mock API من منصة حصيف تعمل على GitHub Pages فقط، وتُظهر كيف يمكن ربط الواجهات بواجهة برمجية مستقبلية حقيقية بدون تغيير منطق التشغيل.
  </footer>

  <script src="mock-api.js"></script>
  <script>
    const ROLE_KEY = "government";
    const API = window.MockApi;

    async function refreshKPIs() {
      const [sol, prj, ev, fd, vol, cp, fac, jobs] = await Promise.all([
        API.get('solutions', ROLE_KEY),
        API.get('projects', ROLE_KEY),
        API.get('events', ROLE_KEY),
        API.get('funding', ROLE_KEY),
        API.get('volunteering', ROLE_KEY),
        API.get('coop', ROLE_KEY),
        API.get('facilities', ROLE_KEY),
        API.get('jobs', ROLE_KEY)
      ]);
      document.getElementById('kpi-solutions').textContent = sol.length;
      document.getElementById('kpi-projects').textContent = prj.length;
      document.getElementById('kpi-events').textContent = ev.length;
      document.getElementById('kpi-funding').textContent = fd.length;
      document.getElementById('kpi-volunteering').textContent = vol.length;
      document.getElementById('kpi-coop').textContent = cp.length;
      document.getElementById('kpi-facilities').textContent = fac.length;
      document.getElementById('kpi-jobs').textContent = jobs.length;
    }

    async function renderSolutions() {
      const list = await API.get('solutions', ROLE_KEY);
      const tbody = document.getElementById('table-solutions');
      const selectSolution = document.getElementById('select-solution');
      tbody.innerHTML = '';
      if (selectSolution) selectSolution.innerHTML = '<option value="">بدون</option>';
      list.forEach((s, idx) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${s.title}</td>
          <td class="py-2 px-2 text-slate-400">${s.region || '-'} </td>
          <td class="py-2 px-2 text-emerald-300 text-[11px]">${s.status || 'draft'}</td>
        `;
        tbody.appendChild(tr);
        if (selectSolution) {
          const opt = document.createElement('option');
          opt.value = s.id;
          opt.textContent = s.title;
          selectSolution.appendChild(opt);
        }
      });
    }

    async function renderProjects() {
      const [list, sols] = await Promise.all([
        API.get('projects', ROLE_KEY),
        API.get('solutions', ROLE_KEY)
      ]);
      const tbody = document.getElementById('table-projects');
      const selEv = document.getElementById('select-project-event');
      const selFd = document.getElementById('select-project-funding');
      const selVol = document.getElementById('select-project-vol');
      tbody.innerHTML = '';
      if (selEv) selEv.innerHTML = '<option value="">بدون</option>';
      if (selFd) selFd.innerHTML = '<option value="">اختر مشروعًا</option>';
      if (selVol) selVol.innerHTML = '<option value="">بدون</option>';
      list.forEach((p, idx) => {
        const sol = sols.find(s => s.id === p.solution_id);
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${p.title}</td>
          <td class="py-2 px-2 text-slate-400">${sol ? sol.title : '-'}</td>
          <td class="py-2 px-2 text-emerald-300 text-[11px]">${p.status || 'draft'}</td>
        `;
        tbody.appendChild(tr);

        if (selEv) {
          const opt1 = document.createElement('option');
          opt1.value = p.id;
          opt1.textContent = p.title;
          selEv.appendChild(opt1);
        }
        if (selFd) {
          const opt2 = document.createElement('option');
          opt2.value = p.id;
          opt2.textContent = p.title;
          selFd.appendChild(opt2);
        }
        if (selVol) {
          const opt3 = document.createElement('option');
          opt3.value = p.id;
          opt3.textContent = p.title;
          selVol.appendChild(opt3);
        }
      });
    }

    async function renderEvents() {
      const [list, prj] = await Promise.all([
        API.get('events', ROLE_KEY),
        API.get('projects', ROLE_KEY)
      ]);
      const tbody = document.getElementById('table-events');
      tbody.innerHTML = '';
      list.forEach((e, idx) => {
        const p = prj.find(x => x.id === e.project_id);
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${e.title}</td>
          <td class="py-2 px-2 text-slate-400">${p ? p.title : '-'}</td>
          <td class="py-2 px-2 text-emerald-300 text-[11px]">${e.status || 'scheduled'}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function renderFunding() {
      const [list, prj] = await Promise.all([
        API.get('funding', ROLE_KEY),
        API.get('projects', ROLE_KEY)
      ]);
      const tbody = document.getElementById('table-funding');
      tbody.innerHTML = '';
      list.forEach((f, idx) => {
        const p = prj.find(x => x.id === f.project_id);
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${p ? p.title : '-'}</td>
          <td class="py-2 px-2 text-slate-400">${f.amount || 0}</td>
          <td class="py-2 px-2 text-emerald-300 text-[11px]">${f.status || 'pending'}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function renderVolunteering() {
      const [list, prj] = await Promise.all([
        API.get('volunteering', ROLE_KEY),
        API.get('projects', ROLE_KEY)
      ]);
      const tbody = document.getElementById('table-volunteering');
      tbody.innerHTML = '';
      list.forEach((v, idx) => {
        const p = prj.find(x => x.id === v.project_id);
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${v.title}</td>
          <td class="py-2 px-2 text-slate-400">${p ? p.title : '-'}</td>
          <td class="py-2 px-2 text-slate-400">${v.needed || 0}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function renderCoop() {
      const list = await API.get('coop', ROLE_KEY);
      const tbody = document.getElementById('table-coop');
      tbody.innerHTML = '';
      list.forEach((c, idx) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${c.title}</td>
          <td class="py-2 px-2 text-slate-400">${c.host || '-'}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function renderFacilities() {
      const list = await API.get('facilities', ROLE_KEY);
      const tbody = document.getElementById('table-facilities');
      tbody.innerHTML = '';
      list.forEach((f, idx) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${f.name}</td>
          <td class="py-2 px-2 text-slate-400">${f.ftype || '-'}</td>
          <td class="py-2 px-2 text-slate-400">${f.location || '-'}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function renderJobs() {
      const list = await API.get('jobs', ROLE_KEY);
      const tbody = document.getElementById('table-jobs');
      tbody.innerHTML = '';
      list.forEach((j, idx) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${j.title}</td>
          <td class="py-2 px-2 text-slate-400">${j.jobtype || '-'}</td>
          <td class="py-2 px-2 text-slate-400">${j.location || '-'}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function renderSponsorships() {
      const list = await API.get('sponsorships', ROLE_KEY);
      const tbody = document.getElementById('table-sponsorships');
      tbody.innerHTML = '';
      list.forEach((s, idx) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${s.sponsor}</td>
          <td class="py-2 px-2 text-slate-400">${s.stype || '-'}</td>
          <td class="py-2 px-2 text-slate-400">${s.amount || 0}</td>
          <td class="py-2 px-2 text-slate-400">${s.target || '-'}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function renderVision() {
      const list = await API.get('vision', ROLE_KEY);
      const tbody = document.getElementById('table-vision');
      tbody.innerHTML = '';
      list.forEach((v, idx) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="py-2 px-2 text-slate-400">${idx + 1}</td>
          <td class="py-2 px-2">${v.program}</td>
          <td class="py-2 px-2 text-slate-400">${v.strategic || '-'}</td>
          <td class="py-2 px-2 text-slate-400">${v.subgoal || '-'}</td>
          <td class="py-2 px-2 text-slate-400">${v.indicator || '-'}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Forms
      document.getElementById('form-solution').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('solutions', ROLE_KEY, {
          title: form.title.value.trim(),
          description: form.description.value.trim(),
          region: form.region.value.trim(),
          status: 'draft'
        });
        form.reset();
        await renderSolutions();
        await refreshKPIs();
      });

      document.getElementById('form-project').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('projects', ROLE_KEY, {
          title: form.title.value.trim(),
          description: form.description.value.trim(),
          solution_id: form.solution_id.value || null,
          status: 'draft'
        });
        form.reset();
        await renderProjects();
        await refreshKPIs();
      });

      document.getElementById('form-event').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('events', ROLE_KEY, {
          title: form.title.value.trim(),
          description: form.description.value.trim(),
          project_id: form.project_id.value || null,
          status: 'scheduled'
        });
        form.reset();
        await renderEvents();
        await refreshKPIs();
      });

      document.getElementById('form-funding').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('funding', ROLE_KEY, {
          project_id: form.project_id.value,
          amount: Number(form.amount.value || 0),
          status: 'pending'
        });
        form.reset();
        await renderFunding();
        await refreshKPIs();
      });

      document.getElementById('form-volunteering').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('volunteering', ROLE_KEY, {
          title: form.title.value.trim(),
          description: form.description.value.trim(),
          project_id: form.project_id.value || null,
          needed: Number(form.needed.value || 0)
        });
        form.reset();
        await renderVolunteering();
        await refreshKPIs();
      });

      document.getElementById('form-coop').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('coop', ROLE_KEY, {
          title: form.title.value.trim(),
          description: form.description.value.trim(),
          host: form.host.value.trim()
        });
        form.reset();
        await renderCoop();
        await refreshKPIs();
      });

      document.getElementById('form-facility').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('facilities', ROLE_KEY, {
          name: form.name.value.trim(),
          ftype: form.type.value.trim(),
          location: form.location.value.trim()
        });
        form.reset();
        await renderFacilities();
        await refreshKPIs();
      });

      document.getElementById('form-job').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('jobs', ROLE_KEY, {
          title: form.title.value.trim(),
          jobtype: form.jobtype.value.trim(),
          location: form.location.value.trim()
        });
        form.reset();
        await renderJobs();
        await refreshKPIs();
      });

      document.getElementById('form-sponsorship').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('sponsorships', ROLE_KEY, {
          sponsor: form.sponsor.value.trim(),
          stype: form.type.value.trim(),
          amount: Number(form.amount.value || 0),
          target: form.target.value.trim()
        });
        form.reset();
        await renderSponsorships();
        await refreshKPIs();
      });

      document.getElementById('form-vision').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        await API.post('vision', ROLE_KEY, {
          program: form.program.value.trim(),
          strategic: form.strategic.value.trim(),
          subgoal: form.subgoal.value.trim(),
          indicator: form.indicator.value.trim()
        });
        form.reset();
        await renderVision();
      });

      const panels = {
        solutions: document.getElementById('panel-solutions'),
        projects: document.getElementById('panel-projects'),
        events: document.getElementById('panel-events'),
        funding: document.getElementById('panel-funding'),
        volunteering: document.getElementById('panel-volunteering'),
        coop: document.getElementById('panel-coop'),
        facilities: document.getElementById('panel-facilities'),
        jobs: document.getElementById('panel-jobs'),
        sponsorships: document.getElementById('panel-sponsorships'),
        vision: document.getElementById('panel-vision')
      };

      function showPanel(name) {
        Object.keys(panels).forEach((key) => {
          panels[key].classList.toggle('hidden', key !== name);
        });
        document.querySelectorAll('.nav-btn').forEach(btn => {
          if (btn.dataset.target === name) {
            btn.classList.add('bg-slate-800', 'text-emerald-300');
          } else {
            btn.classList.remove('bg-slate-800', 'text-emerald-300');
          }
        });
      }

      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.addEventListener('click', () => showPanel(btn.dataset.target));
      });

      // Initial render
      (async () => {
        await renderSolutions();
        await renderProjects();
        await renderEvents();
        await renderFunding();
        await renderVolunteering();
        await renderCoop();
        await renderFacilities();
        await renderJobs();
        await renderSponsorships();
        await renderVision();
        await refreshKPIs();
        showPanel('solutions');
      })();
    });
  </script>
</body>
</html>